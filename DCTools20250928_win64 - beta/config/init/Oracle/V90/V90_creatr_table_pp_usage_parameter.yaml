create:
    DC_CONFIG_PP_USAGE_PARAMETER:
        - |
           create table DC_CONFIG_PP_USAGE_PARAMETER
              (
                price_plan_id   NUMBER(10),
                price_plan_name VARCHAR2(512) not null,
                re_id           NUMBER(9) not null,
                re_name         VARCHAR2(200),
                param_feature   VARCHAR2(30),
                param_name      VARCHAR2(120),
                col_name        VARCHAR2(120),
                unit            VARCHAR2(3) not null,
                pulse           NUMBER(10),
                con_res_id      NUMBER(9) not null,
                bal_source_type NUMBER(3) not null,
                con_res_name    VARCHAR2(255)
              )
        - comment on table DC_CONFIG_PP_USAGE_PARAMETER is  'DC_CONFIG_PP_USAGE_PARAMETER'
        - comment on column DC_CONFIG_PP_USAGE_PARAMETER.price_plan_id is 'the price plan id ,can be null'
        - comment on column DC_CONFIG_PP_USAGE_PARAMETER.price_plan_name is 'the price plan name'
        - comment on column DC_CONFIG_PP_USAGE_PARAMETER.re_id is 'the re id of usage event'
        - comment on column DC_CONFIG_PP_USAGE_PARAMETER.re_name is 'the event name'
        - comment on column DC_CONFIG_PP_USAGE_PARAMETER.param_feature is  'the parameter feature name,can not be null'
        - comment on column DC_CONFIG_PP_USAGE_PARAMETER.param_name is  'the table parameter name'
        - comment on column DC_CONFIG_PP_USAGE_PARAMETER.col_name is  'the table parameter column'
        - comment on column DC_CONFIG_PP_USAGE_PARAMETER.unit is  'the unit of this tariff, can be:occ(occurrence),min(minute),mb(megabyte),con(connection)'
        - comment on column DC_CONFIG_PP_USAGE_PARAMETER.pulse is  'the minimum of charging step when bal source type is 1, when unit is min,default value 1s, when unit is mb,defualt value 10240 bytes. when unit is con or occ not work, when bal source type is 4 default value not work '
        - comment on column DC_CONFIG_PP_USAGE_PARAMETER.con_res_id is  'the consume id of consume type name'
        - comment on column DC_CONFIG_PP_USAGE_PARAMETER.bal_source_type is  'the balance source type of consume type name,1:Basic Balance;4:Non Currency Balance'
        - comment on column DC_CONFIG_PP_USAGE_PARAMETER.con_res_name is  'the consume type name '


    DC_CONFIG_PP_USAGE_PARAMETER_LOG:
        - |
            create table DC_CONFIG_PP_USAGE_PARAMETER_LOG
              (
                price_plan_id   NUMBER(10),
                price_plan_name VARCHAR2(512) not null,
                re_id           NUMBER(9) not null,
                re_name         VARCHAR2(200),
                param_feature   VARCHAR2(30),
                param_name      VARCHAR2(120),
                col_name        VARCHAR2(120),
                unit            VARCHAR2(3) not null,
                pulse           NUMBER(10),
                con_res_id      NUMBER(9) not null,
                bal_source_type NUMBER(3) not null,
                con_res_name    VARCHAR2(255),
                LOGINFO         VARCHAR2(255),
                FIX_SQL          VARCHAR2(255)
              )
        - comment on table DC_CONFIG_PP_USAGE_PARAMETER_LOG is  'this table no need to fill ,keep it blank,this table records the error data when inserting data from DC_CONFIG_PP_USAGE_PARAMETER'
        - comment on column DC_CONFIG_PP_USAGE_PARAMETER_LOG.loginfo is 'the error information description'
        - comment on column DC_CONFIG_PP_USAGE_PARAMETER_LOG.fix_sql is  'the fix sql of this error record'

    DC_PROC_TABLE_PARAM_PRICE:
        - |
          CREATE OR REPLACE PROCEDURE DC_PROC_TABLE_PARAM_PRICE IS
            v_pp_name varchar2(200);
            v_pp_id number(10);
            v_pp_ver_id number(10);
            v_prio number(10);
            v_price_set_id number(10);
            v_re_ps_id number(10);
            v_flag number(2);
            v_re_id number(10);
            v_rate_plan_id number(10);
            v_re_name varchar2(200);
            v_map_id number(10);
            v_price_ver_id number(10);
            v_ref_value_id_con varchar2(60);
            v_con_res_id varchar2(60);
            v_con_res_id_m varchar2(60);
            v_ref_value_id_price varchar2(60);
            v_re_attr varchar2(10);
            v_re_attr_m varchar2(10);
            v_price_id number(20);
            v_bal_source_id number(20);
            v_first_work_node_id number(20);
            v_work_node_id number(20);
            v_work_action_id number(20);
            v_action_price_id number(20);
            v_rum number(12);
            v_min_rum number(12);
            v_rate_plan_name varchar2(100);
            v_mapping_type varchar2(10);
            v_work_condition_id_seq number(10);
            v_highest_prio varchar2(4);
            v_param_id number(10);
            v_param_id_m number(10);
            v_param_name varchar2(120);
            v_param_feature_id number(10);
            v_param_feature_id_m number(10);
            v_param_feature varchar2(30);
            v_col_id number(10);
            v_col_id_m number(10);
            v_col_name varchar2(120);

            begin
            for cur_pp in  (select * from DC_CONFIG_PP_USAGE_PARAMETER order by price_plan_name ) loop
              if cur_pp.price_plan_id is null then
                select cur_pp.price_plan_name into v_pp_name from dual;
                select count(1) into v_flag from price_plan where price_plan_name=v_pp_name;
                if v_flag=1 then
                  select price_plan_id into v_pp_id from price_plan where price_plan_name=v_pp_name;
                elsif v_flag=0 then
                  select price_plan_id_seq.nextval into v_pp_id from dual;
                  select COALESCE(max(PRIORITY) + 1, 1) into v_prio from price_plan;
                  INSERT INTO PRICE_PLAN (PRICE_PLAN_ID,PRICE_PLAN_NAME,PRICE_PLAN_CODE,APPLY_LEVEL,PRICE_PLAN_TYPE,PRICE_PLAN_GENRE,PRIORITY,LOCK_FLAG,PRICE_PLAN_CATALOG,SP_ID,STATE,ACTIVE_DATE,ACTIVE_STAFF_ID,INACTIVE_DATE,INACTIVE_STAFF_ID,PRICE_PLAN_EXIT,POLICY_PLAN_FLAG)
                  VALUES (v_pp_id,v_pp_name,substr(v_pp_name,0,58),'S','3','A',v_prio,'N',null,null,'A',null,null,null,null,'N','N');
                else
                  insert into DC_CONFIG_PP_USAGE_PARAMETER_LOG
                  values (cur_pp.price_plan_id,cur_pp.price_plan_name,cur_pp.re_id,cur_pp.re_name,cur_pp.param_feature,cur_pp.param_name,cur_pp.col_name,cur_pp.unit,cur_pp.pulse,cur_pp.con_res_id,cur_pp.bal_source_type,cur_pp.con_res_name,'DUPLICATE PP ID!',null);
                  continue;
                end if;
              else
                select cur_pp.price_plan_id into v_pp_id from dual;
                select count(1) into v_flag from price_plan where price_plan_id=v_pp_id;
                if v_flag=1 then
                  select price_plan_id into v_pp_id from price_plan where price_plan_id=v_pp_id;
                elsif v_flag=0 then
                  select cur_pp.price_plan_name into v_pp_name from dual;
                  select COALESCE(max(PRIORITY) + 1, 1) into v_prio from price_plan;
                  INSERT INTO PRICE_PLAN (PRICE_PLAN_ID,PRICE_PLAN_NAME,PRICE_PLAN_CODE,APPLY_LEVEL,PRICE_PLAN_TYPE,PRICE_PLAN_GENRE,PRIORITY,LOCK_FLAG,PRICE_PLAN_CATALOG,SP_ID,STATE,ACTIVE_DATE,ACTIVE_STAFF_ID,INACTIVE_DATE,INACTIVE_STAFF_ID,PRICE_PLAN_EXIT,POLICY_PLAN_FLAG)
                  VALUES (v_pp_id,v_pp_name,substr(v_pp_name,0,58),'S','3','A',v_prio,'N',null,null,'A',null,null,null,null,'N','N');
                else
                  insert into DC_CONFIG_PP_USAGE_PARAMETER_LOG
                  values (cur_pp.price_plan_id,cur_pp.price_plan_name,cur_pp.re_id,cur_pp.re_name,cur_pp.param_feature,cur_pp.param_name,cur_pp.col_name,cur_pp.unit,cur_pp.pulse,cur_pp.con_res_id,cur_pp.bal_source_type,cur_pp.con_res_name,'DUPLICATE PP ID!',null);
                  continue;
                end if;
              end if;

              select count(1) into v_flag from price_plan_ver where price_plan_id=v_pp_id and exp_date is null;
              if v_flag=1 then
                select price_plan_ver_id into v_pp_ver_id from price_plan_ver where price_plan_id=v_pp_id and exp_date is null;
              elsif v_flag=0 then
                select price_plan_ver_id_seq.nextval into  v_pp_ver_id from dual;
                INSERT INTO PRICE_PLAN_VER(PRICE_PLAN_VER_ID,PRICE_PLAN_ID,SEQ,SP_ID,EFF_DATE,EXP_DATE,USING_STATE,STATE,CREATED_DATE,CREATED_STAFF_ID,RELEASE_DATE,RELEASE_STAFF_ID,RETIRE_DATE,RETIRE_STAFF_ID,SUBMIT_DATE,SUBMIT_STAFF_ID,APPROVED_DATE,APPROVED_STAFF_ID)
                VALUES(v_pp_ver_id,v_pp_id,1,null,to_date('1990-01-01 00:00:00','yyyy-mm-dd hh24:mi:ss'),null,'A','A',to_date('1990-01-01 00:00:00','yyyy-mm-dd hh24:mi:ss'),null,null,null,null,null,null,null,null,null);

              else
                insert into DC_CONFIG_PP_USAGE_PARAMETER_LOG
                values (cur_pp.price_plan_id,cur_pp.price_plan_name,cur_pp.re_id,cur_pp.re_name,cur_pp.param_feature,cur_pp.param_name,cur_pp.col_name,cur_pp.unit,cur_pp.pulse,cur_pp.con_res_id,cur_pp.bal_source_type,cur_pp.con_res_name,'DUPLICATE PP VER!',null);
                continue;
              end if;


              select count(1) into v_flag from PRICE_PLAN_MEMBER where price_plan_ver_id=v_pp_ver_id;
              if v_flag=1 then
                select price_set_id into v_price_set_id from PRICE_PLAN_MEMBER where price_plan_ver_id=v_pp_ver_id;
              elsif v_flag=0 then
                select price_set_id_seq.nextval into v_price_set_id from dual;
                INSERT INTO PRICE_SET (PRICE_SET_ID, APPLY_LEVEL, PRICE_SET_PRIORITY_ID, PRIORITY, SP_ID)
                values(v_price_set_id,'S',10000,1,null);
                INSERT INTO PRICE_PLAN_MEMBER (PRICE_PLAN_VER_ID, PRICE_SET_ID, CREATED_DATE, SP_ID)
                values(v_pp_ver_id,v_price_set_id,to_date('1990-01-01 00:00:00','yyyy-mm-dd hh24:mi:ss'),null);
              else
                insert into DC_CONFIG_PP_USAGE_PARAMETER_LOG
                values (cur_pp.price_plan_id,cur_pp.price_plan_name,cur_pp.re_id,cur_pp.re_name,cur_pp.param_feature,cur_pp.param_name,cur_pp.col_name,cur_pp.unit,cur_pp.pulse,cur_pp.con_res_id,cur_pp.bal_source_type,cur_pp.con_res_name,'DUPLICATE PP MEMBER!',null);
                continue;
              end if;

              select cur_pp.re_name into v_re_name from dual;
              select cur_pp.re_id into v_re_id from dual;
              select 'Y' into v_highest_prio from dual;
              select count(1) into v_flag from re_price_set where price_set_id=v_price_set_id and re_id=v_re_id;
              if v_flag=1 then
                select re_price_set_id into v_re_ps_id from re_price_set where price_set_id=v_price_set_id and re_id=v_re_id;
              elsif v_flag=0 then
                select re_price_set_id_seq.nextval into v_re_ps_id from dual;
                insert into RE_PRICE_SET (RE_PRICE_SET_ID, RE_ID, PRICE_SET_ID, WORKFLOW_ID, SP_ID , POST_WORKFLOW_ID, PARAM, SCRIPT_TEMPLET_ID, RULE_SCRIPT, SCRIPT_PAGE, RULE_COMMENTS, HIGHEST_PRIORITY)
                values (v_re_ps_id, v_re_id, v_price_set_id, null, null , null, null, null, null, null , null, v_highest_prio);
              else
                insert into DC_CONFIG_PP_USAGE_PARAMETER_LOG
                values (cur_pp.price_plan_id,cur_pp.price_plan_name,cur_pp.re_id,cur_pp.re_name,cur_pp.param_feature,cur_pp.param_name,cur_pp.col_name,cur_pp.unit,cur_pp.pulse,cur_pp.con_res_id,cur_pp.bal_source_type,cur_pp.con_res_name,'DUPLICATE PP EVENT!',null);
                continue;
              end if;

              select v_re_name into v_rate_plan_name from dual;

              select count(1) into v_flag from rate_plan where re_price_set_id=v_re_ps_id and rate_plan_name = v_rate_plan_name;
              if v_flag=1 then
                select rate_plan_id,mapping_type into v_rate_plan_id,v_mapping_type from rate_plan where re_price_set_id=v_re_ps_id and rate_plan_name = v_rate_plan_name;
              elsif v_flag=0 then
                select rate_plan_id_seq.nextval into v_rate_plan_id from dual;
                select COALESCE(max(PRIORITY) + 1, 1) into v_prio from RATE_PLAN where RE_PRICE_SET_ID = v_re_ps_id;
                insert into RATE_PLAN (RATE_PLAN_ID, RATE_PLAN_NAME, RATE_PLAN_TYPE, RATE_CHARGE_TYPE, RE_PRICE_SET_ID, MAPPING_TYPE, PRIORITY, COMMENTS, CREATED_DATE, STATE, STATE_DATE, MAPPING_EXIT, SP_ID)
                values (v_rate_plan_id, v_rate_plan_name, 1, 'M', v_re_ps_id,'D',v_prio, null, to_date('1990-01-01 00:00:00','yyyy-mm-dd hh24:mi:ss'),'A', to_date('1990-01-01 00:00:00','yyyy-mm-dd hh24:mi:ss'), null, null);
              else
                insert into DC_CONFIG_PP_USAGE_PARAMETER_LOG
                values (cur_pp.price_plan_id,cur_pp.price_plan_name,cur_pp.re_id,cur_pp.re_name,cur_pp.param_feature,cur_pp.param_name,cur_pp.col_name,cur_pp.unit,cur_pp.pulse,cur_pp.con_res_id,cur_pp.bal_source_type,cur_pp.con_res_name,'DUPLICATE PP RATEPLAN!',null);
                continue;
              end if;

              select count(1) into v_flag from mapping where rate_plan_id=v_rate_plan_id;
              if v_flag=1 then
                select mapping_id into v_map_id from mapping where rate_plan_id=v_rate_plan_id;
              elsif v_flag=0 then
                select mapping_id_seq.nextval into v_map_id from dual;
                INSERT INTO MAPPING (MAPPING_ID,MAPPING_NAME,RATE_PLAN_ID,PRIORITY,MAPPING_DEFAULT,SP_ID)
                VALUES(v_map_id, v_rate_plan_name, v_rate_plan_id, 1, null, null);
              else
                insert into DC_CONFIG_PP_USAGE_PARAMETER_LOG
                values (cur_pp.price_plan_id,cur_pp.price_plan_name,cur_pp.re_id,cur_pp.re_name,cur_pp.param_feature,cur_pp.param_name,cur_pp.col_name,cur_pp.unit,cur_pp.pulse,cur_pp.con_res_id,cur_pp.bal_source_type,cur_pp.con_res_name,'DUPLICATE PP MAPPING!',null);
                continue;
              end if;


              select count(1) into v_flag from price_ver where mapping_id=v_map_id;
              if v_flag=1 then
                select price_ver_id into v_price_ver_id from price_ver where mapping_id=v_map_id;
              elsif v_flag=0 then
                SELECT PRICE_VER_ID_SEQ.NEXTVAL into v_price_ver_id  FROM DUAL;
                insert into PRICE_VER (PRICE_VER_ID, MAPPING_ID, EFF_DATE, EXP_DATE, SP_ID) values (v_price_ver_id, v_map_id, to_date('1990-01-01 00:00:00','yyyy-mm-dd hh24:mi:ss'), null, null);
              else
                insert into DC_CONFIG_PP_USAGE_PARAMETER_LOG
                values (cur_pp.price_plan_id,cur_pp.price_plan_name,cur_pp.re_id,cur_pp.re_name,cur_pp.param_feature,cur_pp.param_name,cur_pp.col_name,cur_pp.unit,cur_pp.pulse,cur_pp.con_res_id,cur_pp.bal_source_type,cur_pp.con_res_name,'DUPLICATE PRICE VER!',null);
                continue;
              end if;


              select cur_pp.con_res_id into v_con_res_id from dual;
              if cur_pp.bal_source_type=1 then
                select case
                when cur_pp.unit='occ' then 10002
                when cur_pp.unit='min' then 10000
                when cur_pp.unit='mb' then 10003
                when cur_pp.unit='con' then 10000
                end into v_re_attr from dual;
                select case
                when cur_pp.unit='occ' then 1
                when cur_pp.unit='min' then 60
                when cur_pp.unit='mb' then 1048576
                when cur_pp.unit='con' then 60
                end into v_rum from dual;
                select case
                when cur_pp.unit='occ' then null
                when cur_pp.unit='min' then nvl(cur_pp.pulse,1)
                when cur_pp.unit='mb' then nvl(cur_pp.pulse,10240)
                when cur_pp.unit='con' then null
                end into v_min_rum from dual;
              else
                select case
                when cur_pp.unit='occ' then 10002
                when cur_pp.unit='min' then 10000
                when cur_pp.unit='mb' then 10003
                end into v_re_attr from dual;
                select case
                when cur_pp.unit='occ' then 1
                when cur_pp.unit='min' then 1
                when cur_pp.unit='mb' then 1
                end into v_rum from dual;
                select case
                when cur_pp.unit='occ' then null
                when cur_pp.unit='min' then null
                when cur_pp.unit='mb' then null
                end into v_min_rum from dual;
              end if;
              if v_min_rum>=v_rum then
                select null into v_min_rum from dual;
              end if;
              select cur_pp.bal_source_type into v_bal_source_id from dual;
              select cur_pp.param_name,cur_pp.param_feature,cur_pp.col_name into v_param_name,v_param_feature,v_col_name from dual;
              select param_id into v_param_id from param_define where param_name=v_param_name and state='A';
              select col_id into v_col_id from table_param_column where param_id=v_param_id and col_name=v_col_name and state='A' and zone_flag='N';
              select re_attr into v_param_feature_id from re_attr where re_attr_name=v_param_feature;

              select count(1) into v_flag from price a,PRICE_WORK_NODE b,WORK_NODE c,WORK_ACTION d,ACTION_PRICE e,ref_value f,con_res g
              where a.price_ver_id=v_price_ver_id
              and a.price_id=b.price_id
              and b.work_node_id=c.work_node_id
              and c.is_first_node='Y'
              and c.work_node_id=d.work_node_id
              and d.work_action_id=e.work_action_id
              and e.con_res_id=f.ref_value_id
              and f.ref_value_type='9'
              and g.con_res_id=f.value_string
              and g.bal_source_type=v_bal_source_id;
              if v_flag=1 then
                select a.price_id,f.ref_value_id,f.value_string into v_price_id,v_ref_value_id_con,v_con_res_id_m from price a,PRICE_WORK_NODE b,WORK_NODE c,WORK_ACTION d,ACTION_PRICE e,ref_value f,con_res g
                where a.price_ver_id=v_price_ver_id
                and a.price_id=b.price_id
                and b.work_node_id=c.work_node_id
                and c.is_first_node='Y'
                and c.work_node_id=d.work_node_id
                and d.work_action_id=e.work_action_id
                and e.con_res_id=f.ref_value_id
                and f.ref_value_type='9'
                and g.con_res_id=f.value_string
                and g.bal_source_type=v_bal_source_id;

                select a.ref_value_id,e.re_attr,f.value_string,f.col_id,f.re_attr into v_ref_value_id_price,v_re_attr_m,v_param_id_m,v_col_id_m,v_param_feature_id_m from price a,PRICE_WORK_NODE b,WORK_NODE c,WORK_ACTION d,ACTION_PRICE e,ref_value f
                where a.price_id=v_price_id
                and a.price_id=b.price_id
                and b.work_node_id=c.work_node_id
                and c.is_first_node='Y'
                and c.work_node_id=d.work_node_id
                and d.work_action_id=e.work_action_id
                and a.ref_value_id=f.ref_value_id
                and f.ref_value_type='2';
                if v_con_res_id_m<>v_con_res_id then
                  insert into DC_CONFIG_PP_USAGE_PARAMETER_LOG
                  values (cur_pp.price_plan_id,cur_pp.price_plan_name,cur_pp.re_id,cur_pp.re_name,cur_pp.param_feature,cur_pp.param_name,cur_pp.col_name,cur_pp.unit,cur_pp.pulse,cur_pp.con_res_id,cur_pp.bal_source_type,cur_pp.con_res_name,'the main balance consume id is error!',
                  'update ref_value set value_string='||v_con_res_id||' where ref_value_id='||v_ref_value_id_con||';');
                  continue;
                end if;
                if v_re_attr<>v_re_attr_m then
                  insert into DC_CONFIG_PP_USAGE_PARAMETER_LOG
                  values (cur_pp.price_plan_id,cur_pp.price_plan_name,cur_pp.re_id,cur_pp.re_name,cur_pp.param_feature,cur_pp.param_name,cur_pp.col_name,cur_pp.unit,cur_pp.pulse,cur_pp.con_res_id,cur_pp.bal_source_type,cur_pp.con_res_name,'the main balance consume type is error!',
                  'update ACTION_PRICE set re_attr='||v_re_attr||' where ref_value_id='||v_ref_value_id_price||'; update price set re_attr='||v_re_attr||' where price_id='||v_price_id||';');
                  continue;
                end if;
                if v_param_id_m<>v_param_id then
                  insert into DC_CONFIG_PP_USAGE_PARAMETER_LOG
                  values (cur_pp.price_plan_id,cur_pp.price_plan_name,cur_pp.re_id,cur_pp.re_name,cur_pp.param_feature,cur_pp.param_name,cur_pp.col_name,cur_pp.unit,cur_pp.pulse,cur_pp.con_res_id,cur_pp.bal_source_type,cur_pp.con_res_name,'the main balance consume money is error!',
                  'update ref_value set value_string='''||v_param_id||''' where ref_value_id='||v_ref_value_id_price||';');
                  continue;
                end if;
                if v_col_id_m<>v_col_id then
                  insert into DC_CONFIG_PP_USAGE_PARAMETER_LOG
                  values (cur_pp.price_plan_id,cur_pp.price_plan_name,cur_pp.re_id,cur_pp.re_name,cur_pp.param_feature,cur_pp.param_name,cur_pp.col_name,cur_pp.unit,cur_pp.pulse,cur_pp.con_res_id,cur_pp.bal_source_type,cur_pp.con_res_name,'the main balance consume money is error!',
                  'update ref_value set col_id='''||v_col_id||''' where ref_value_id='||v_ref_value_id_price||';');
                  continue;
                end if;
                if v_param_feature_id_m<>v_param_feature_id then
                  insert into DC_CONFIG_PP_USAGE_PARAMETER_LOG
                  values (cur_pp.price_plan_id,cur_pp.price_plan_name,cur_pp.re_id,cur_pp.re_name,cur_pp.param_feature,cur_pp.param_name,cur_pp.col_name,cur_pp.unit,cur_pp.pulse,cur_pp.con_res_id,cur_pp.bal_source_type,cur_pp.con_res_name,'the main balance consume money is error!',
                  'update ref_value set re_attr='''||v_param_feature_id||''' where ref_value_id='||v_ref_value_id_price||';');
                  continue;
                end if;
              elsif v_flag=0 then
                SELECT PRICE_ID_SEQ.NEXTVAL INTO v_price_id FROM DUAL;
                select COALESCE(max(PRIORITY) + 1, 1) into v_prio from PRICE where PRICE_VER_ID =v_price_ver_id;
                SELECT WORK_NODE_ID_SEQ.NEXTVAL into v_work_node_id FROM DUAL;
                insert into WORK_NODE (WORK_NODE_ID, WORK_NODE_NAME, IS_FIRST_NODE, FIRST_WORK_NODE_ID, WORK_NODE_TYPE , WORK_NEXT_NODE_ID, POSITION, COMMENTS, SP_ID)
                values (v_work_node_id,'price', 'Y', v_work_node_id, 'A' , null, '{"position":"[130,23]","type":"price"}', null, null);
                SELECT WORK_ACTION_ID_SEQ.NEXTVAL into  v_work_action_id from DUAL;
                insert into WORK_ACTION (WORK_ACTION_ID, WORK_ACTION_TYPE, EXEC_SEQ, WORK_NODE_ID, WORK_ACTION_NAME , POSITION, COMMENTS, SP_ID)
                values (v_work_action_id, 'price', 1, v_work_node_id, 'price action' , null, null, null);
                SELECT REF_VALUE_ID_SEQ.NEXTVAL into v_ref_value_id_price FROM DUAL;

                insert into REF_VALUE (REF_VALUE_ID, REF_VALUE_TYPE, VALUE_STRING, COL_ID, RE_ATTR , BUNDLE_MEMBER_ALISA, FUNCTION_PARAM1, FUNCTION_PARAM2, COMMENTS, STAFF_ID , CREATED_DATE, STATE, STATE_DATE, PRICE_ID, RATE_PLAN_ID , PRICE_SET_ID, SP_ID)
                values (v_ref_value_id_price, '2', v_param_id, v_col_id, v_param_feature_id , null, null, null, null, null , to_date('1990-01-01 00:00:00','yyyy-mm-dd hh24:mi:ss'), 'A', to_date('1990-01-01 00:00:00','yyyy-mm-dd hh24:mi:ss'), null, v_rate_plan_id, v_price_set_id, null);
                SELECT REF_VALUE_ID_SEQ.NEXTVAL into v_ref_value_id_con FROM DUAL;
                insert into REF_VALUE (REF_VALUE_ID, REF_VALUE_TYPE, VALUE_STRING, COL_ID, RE_ATTR , BUNDLE_MEMBER_ALISA, FUNCTION_PARAM1, FUNCTION_PARAM2, COMMENTS, STAFF_ID , CREATED_DATE, STATE, STATE_DATE, PRICE_ID, RATE_PLAN_ID , PRICE_SET_ID, SP_ID)
                values (v_ref_value_id_con, '9', v_con_res_id, null, null , null, null, null, null, null , to_date('1990-01-01 00:00:00','yyyy-mm-dd hh24:mi:ss'), 'A', to_date('1990-01-01 00:00:00','yyyy-mm-dd hh24:mi:ss'), null, v_rate_plan_id , v_price_set_id, null);
                SELECT ACTION_PRICE_ID_SEQ.NEXTVAL into v_action_price_id FROM DUAL;
                insert into ACTION_PRICE (ACTION_PRICE_ID, WORK_ACTION_ID, RUM, OVERLAP_FLAG, COMMENTS , RE_ATTR, CON_RES_ID, REF_VALUE_ID, SP_ID, MIN_RUM)
                values (v_action_price_id, v_work_action_id, v_rum, null, null , v_re_attr, v_ref_value_id_con, v_ref_value_id_price, null, v_min_rum);
                insert into PRICE (PRICE_ID, PRICE_NAME, REF_VALUE_ID, RUM, RE_ATTR , PRICE_TYPE, CALC_TYPE, PRICE_VER_ID, CON_RES_ID, CURRENCY_TYPE_ID , COMMENTS, PRIORITY, SRC_PRICE_ID, SP_ID, CONFIGURE_TYPE , MIN_RUM)
                values (v_price_id, v_re_name||' Price', v_ref_value_id_price, v_rum, v_re_attr , null, null, v_price_ver_id, null, null , null, v_prio, null, null, '1' , v_min_rum);
                select COALESCE(max(SEQ) + 1, 1) into v_prio from PRICE_WORK_NODE where PRICE_ID = v_price_id;
                insert into PRICE_WORK_NODE (PRICE_ID, SEQ, PRICE_NODE_NAME, WORK_NODE_ID, COMMENTS , SP_ID) values (v_price_id, v_prio, 'start', v_work_node_id, null , null);
                update REF_VALUE set STATE_DATE = to_date('1990-01-01 00:00:00','yyyy-mm-dd hh24:mi:ss'), PRICE_ID = v_price_id, RATE_PLAN_ID = v_rate_plan_id, PRICE_SET_ID = v_price_set_id where REF_VALUE_ID = v_ref_value_id_price;
                update REF_VALUE set STATE_DATE = to_date('1990-01-01 00:00:00','yyyy-mm-dd hh24:mi:ss'), PRICE_ID = v_price_id, RATE_PLAN_ID = v_rate_plan_id, PRICE_SET_ID = v_price_set_id where REF_VALUE_ID = v_ref_value_id_con;
              else
                insert into DC_CONFIG_PP_USAGE_PARAMETER_LOG
                values (cur_pp.price_plan_id,cur_pp.price_plan_name,cur_pp.re_id,cur_pp.re_name,cur_pp.param_feature,cur_pp.param_name,cur_pp.col_name,cur_pp.unit,cur_pp.pulse,cur_pp.con_res_id,cur_pp.bal_source_type,cur_pp.con_res_name,'DUPLICATE PRICE',null);
                continue;
              end if;
            end loop;
            end;

create_list:
    DC_CONFIG_PP_USAGE_PARAMETER:
        - PP_PARAM_USAGE
        - V20191014
        - TABLE
        - VALUE_LIST:
            UNIT:
                TYPE: list
                SOURCE: occ,min,mb,con
            BAL_SOURCE_TYPE:
                TYPE: list
                SOURCE: 1,4

    DC_CONFIG_PP_USAGE_PARAMETER_LOG:
        - PP_PARAM_USAGE
        - V20191014
        - TABLE

    DC_PROC_TABLE_PARAM_PRICE:
        - PP_PARAM_USAGE
        - V20191014
        - procedure