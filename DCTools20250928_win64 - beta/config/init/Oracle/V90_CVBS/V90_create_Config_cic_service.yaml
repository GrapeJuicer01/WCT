create:
  DC_CIC_EVENT:
    - |
      create table DC_CIC_EVENT
        (
          event_code            VARCHAR2(120) not null,
          catalog_name          VARCHAR2(32),
          event_cnct_method     VARCHAR2(8),
          exclude_repetition    CHAR(1),
          is_product            CHAR(1),
          is_interact_event     CHAR(1),
          batch_flag            CHAR(1),
          BATCH_TASK            VARCHAR2(16),
          manual_flag           CHAR(1),
          storage_event_process CHAR(1) default 'Y' not null,
          MANUAL_RETRY_FLAG     CHAR(1),
          EVENT_TRIGGER VARCHAR2(60)
        )
    - comment on table DC_CIC_EVENT is  'CIC EVENT'
    - comment on column DC_CIC_EVENT.event_code is  'EVENT_CODE'
    - comment on column DC_CIC_EVENT.catalog_name is  'EVENT_CODE catalog'
    - comment on column DC_CIC_EVENT.event_cnct_method is  'Event Source'
    - comment on column DC_CIC_EVENT.exclude_repetition is  'Uniqueness Check'
    - comment on column DC_CIC_EVENT.is_product is  'Default Y'
    - comment on column DC_CIC_EVENT.is_interact_event is  'Interactive Event'
    - comment on column DC_CIC_EVENT.batch_flag is  'Batch Flag'
    - comment on column DC_CIC_EVENT.BATCH_TASK is  'BATCH_TASK,deault is null'
    - comment on column DC_CIC_EVENT.manual_flag is  'manual_flag'
    - comment on column DC_CIC_EVENT.storage_event_process is  'Default value is Y.if N,it did not insert into table'
    - comment on column DC_CIC_EVENT.MANUAL_RETRY_FLAG is  'MANUAL_RETRY_FLAG'
    - comment on column DC_CIC_EVENT.EVENT_TRIGGER is  'EVENT_TRIGGER default is null'

  DC_CIC_EVENT_ATTR:
    - |
      create table DC_CIC_EVENT_ATTR
      (
        event_code      VARCHAR2(120) not null,
        parent_attr_path  VARCHAR2(128),
        attr_code       VARCHAR2(32),
        attr_code_path  VARCHAR2(128),
        data_type_name  VARCHAR2(16),
        attr_dim_id     NUMBER(9),
        is_array        CHAR(1) not null,
        is_identifier   CHAR(1),
        is_product      CHAR(1),
        is_sensitive    CHAR(1),
        default_attr_name  VARCHAR2(32),
        EVENT_ATTR_TYPE   CHAR,
        FUN_NAME          VARCHAR2(60)
      )
    - comment on table DC_CIC_EVENT_ATTR is  'DC_CIC_EVENT_ATTR'
    - comment on column DC_CIC_EVENT_ATTR.event_code is  'EVENT_CODE'
    - comment on column DC_CIC_EVENT_ATTR.parent_attr_path is  'parent_attr_path'
    - comment on column DC_CIC_EVENT_ATTR.attr_code is  'Field name'
    - comment on column DC_CIC_EVENT_ATTR.attr_code_path is  ''
    - comment on column DC_CIC_EVENT_ATTR.is_product is  ''
    - comment on column DC_CIC_EVENT_ATTR.data_type_name is  'O:Object,L:Long,S:String,T:DateTime,B:Boolean'
    - comment on column DC_CIC_EVENT_ATTR.attr_dim_id is  'attr_dim_id'
    - comment on column DC_CIC_EVENT_ATTR.is_array is  'is_array'
    - comment on column DC_CIC_EVENT_ATTR.is_identifier is  'is_identifier'
    - comment on column DC_CIC_EVENT_ATTR.is_sensitive is  'is_sensitive'
    - comment on column DC_CIC_EVENT_ATTR.default_attr_name is  'default_attr_name'
    - comment on column DC_CIC_EVENT_ATTR.EVENT_ATTR_TYPE is  'EVENT_ATTR_TYPE'
    - comment on column DC_CIC_EVENT_ATTR.FUN_NAME is  'FUN_NAME'

  DC_CIC_REG_SERVICE:
    - |
      create table DC_CIC_REG_SERVICE
      (
        call_method    CHAR(1),
        service_id     VARCHAR2(64),
        service_group  VARCHAR2(64),
        interface_name VARCHAR2(128),
        registry_group VARCHAR2(64),
        dc_code         VARCHAR2(16),
        if_action    CHAR(1)
      )
    - comment on table DC_CIC_REG_SERVICE is  'CIC REG SERVICE'
    - comment on column DC_CIC_REG_SERVICE.call_method is  'Call Methor D-duboo L-Local'
    - comment on column DC_CIC_REG_SERVICE.service_id is  'Service Method'
    - comment on column DC_CIC_REG_SERVICE.service_group is  'Service Group'
    - comment on column DC_CIC_REG_SERVICE.interface_name is  'Interface Name as com.ztesoft.zsmart.bss.csc.cases.api.dubbo.services.ICasesDubboService'
    - comment on column DC_CIC_REG_SERVICE.registry_group is  'Registry Group'
    - comment on column DC_CIC_REG_SERVICE.dc_code is  'Enrich Service Or Action Code,defult is null'
    - comment on column DC_CIC_REG_SERVICE.if_action is  'If Action or Enrich Service'

  DC_CIC_ACTION:
    - |
      create table DC_CIC_ACTION
       (
          action_code        VARCHAR2(16),
          action_type_name   VARCHAR2(32),
          service_id         VARCHAR2(64),
          action_name        VARCHAR2(64),
          contact_channel    NUMBER(6),
          action_process_pic VARCHAR2(32),
          comments  VARCHAR2(255)
       )
    - comment on table DC_CIC_ACTION is  'CIC ACTION'
    - comment on column DC_CIC_ACTION.action_code is  'according to interface srs, default null'
    - comment on column DC_CIC_ACTION.ACTION_TYPE_NAME is 'source from cic.cic_action_type'
    - comment on column DC_CIC_ACTION.service_id is  'Service Id'
    - comment on column DC_CIC_ACTION.action_name is  'Action Name'
    - comment on column DC_CIC_ACTION.contact_channel is  'source from cpc.cbec_contact_channel.Leave null whether is renew '
    - comment on column DC_CIC_ACTION.action_process_pic is  'icon-order,icon-unsubscribe,icon-unsubscribe,icon-cic-active,icon-account-recharge'
    - comment on column DC_CIC_ACTION.comments is  'icon-order,icon-unsubscribe,icon-unsubscribe,icon-cic-active,icon-account-recharge'

  DC_CIC_INPUT_PARAM:
    - |
      create table DC_CIC_INPUT_PARAM
      (
         input_param_id    NUMBER(9),
         service_id        VARCHAR2(64),
         data_type_name        VARCHAR2(16),
         obj_class             VARCHAR2(256),
         param_name            VARCHAR2(32),
         not_null              CHAR(1),
         parent_input_param_id NUMBER(9),
         default_attr_name          VARCHAR2(32),
         default_value         VARCHAR2(128),
         is_display            CHAR(1),
         param_seq             NUMBER(3)
      )
    - comment on table DC_CIC_INPUT_PARAM is  'CIC INPUT PARAM'
    - comment on column DC_CIC_INPUT_PARAM.input_param_id is  'input_param'
    - comment on column DC_CIC_INPUT_PARAM.service_id is  'Service Id'
    - comment on column DC_CIC_INPUT_PARAM.data_type_name is  'O:Object,L:Long,S:String,T:DateTime,B:Boolean'
    - comment on column DC_CIC_INPUT_PARAM.obj_class is  'Obj Class'
    - comment on column DC_CIC_INPUT_PARAM.param_name is  'Param Name'
    - comment on column DC_CIC_INPUT_PARAM.not_null is  'Not Null'
    - comment on column DC_CIC_INPUT_PARAM.parent_input_param_id is  'Parent Iinput Param Id'
    - comment on column DC_CIC_INPUT_PARAM.default_attr_name is  'source from cic.Cic_Default_Attr'
    - comment on column DC_CIC_INPUT_PARAM.default_value is  'Default Attribute Value'
    - comment on column DC_CIC_INPUT_PARAM.is_display is  'is display'
    - comment on column DC_CIC_INPUT_PARAM.param_seq is  'Param Seq Must Be Increase On The Same parent param'

  DC_CIC_SERV_RTN:
    - |
      create table DC_CIC_SERV_RTN
      (
        field_code          VARCHAR2(64),
        field_code_path     VARCHAR2(128),
        data_type_name      VARCHAR2(16),
        is_array            CHAR(1),
        service_id          VARCHAR2(64),
        ATTR_DIM_NAME       VARCHAR2(64),
        is_display          CHAR(1)
      )
    - comment on table DC_CIC_SERV_RTN is  'CIC SERVIE RTN'
    - comment on column DC_CIC_SERV_RTN.field_code is  'Service Id'
    - comment on column DC_CIC_SERV_RTN.field_code_path is  'field_code_path'
    - comment on column DC_CIC_SERV_RTN.data_type_name is  'O:Object,L:Long,S:String,T:DateTime,B:Boolean'
    - comment on column DC_CIC_SERV_RTN.is_array is  'is array'
    - comment on column DC_CIC_SERV_RTN.service_id is  'Service Name'
    - comment on column DC_CIC_SERV_RTN.ATTR_DIM_NAME is  'ATTR_DIM_NAME'
    - comment on column DC_CIC_SERV_RTN.is_display is  'is display'

  DC_CIC_ACM:
    - |
      create table DC_CIC_ACM
      (
        acm_name              VARCHAR2(64) not null,
        acm_code              VARCHAR2(64),
        AUDIENCE_NAME         VARCHAR2(60),
        life_cycle_start_date DATE,
        life_cycle_end_date   DATE,
        is_occurence          CHAR(1) not null,
        seg_length            NUMBER(6),
        seg_duration_timeunit CHAR(1),
        value_unit            VARCHAR2(60),
        display_unit          VARCHAR2(60),
        ACM_TYPE_NAME         VARCHAR2(64),
        ACM_CATALOG_NAME      VARCHAR2(32)
      )
    - comment on table DC_CIC_ACM is  'CIC ACM'
    - comment on column DC_CIC_ACM.acm_name is  'accumulation name'
    - comment on column DC_CIC_ACM.acm_code is  'accumulation code'
    - comment on column DC_CIC_ACM.AUDIENCE_NAME is  '1:Customer,2:Subscriber,3:Account'
    - comment on column DC_CIC_ACM.is_occurence is  'If is occurence'
    - comment on column DC_CIC_ACM.seg_length is  'seg_length'
    - comment on column DC_CIC_ACM.seg_duration_timeunit is  'H:Hour; D:day;M:month;Y:year'
    - comment on column DC_CIC_ACM.value_unit is  'accumulation value unit'
    - comment on column DC_CIC_ACM.display_unit is  'accumulation display unit'
    - comment on column DC_CIC_ACM.acm_name is  'default is User Defined source:cic_acm_type'
    - comment on column DC_CIC_ACM.ACM_CATALOG_NAME is  'ACM_CATALOG_NAME source:CIC_acm_CATALOG'

  DC_ACM_EVENT_DRIVE:
    - |
      create table DC_ACM_EVENT_DRIVE
      (
         ACM_NAME   VARCHAR2(64) not null,
         EVENT_CODE  VARCHAR2(120) not null,
         ATTR_CODE_PATH    VARCHAR2(128),
         ENRICH_SERVICE_NAME  VARCHAR2(32),
         FIELD_CODE_PATH VARCHAR2(128),
         BLOCK_ID      NUMBER(3),
         OPERATOR_NAME    VARCHAR2(32),
         INPUT_VALUE     VARCHAR2(120),
         ACM_ACTION      CHAR(1),
         ROLLBACK_EVENT_DRIVE VARCHAR2(120),
         KEYFIELD_ATTR_NAME VARCHAR2(32),
         EVENT_ATTR_NAME VARCHAR2(32),
         Acm_Factor_rum   NUMBER(12),
         Acm_Factor_VALUE NUMBER(9)
      )
    - comment on table DC_ACM_EVENT_DRIVE is  'ACM_EVENT_DRIVE'
    - comment on column DC_ACM_EVENT_DRIVE.ACM_NAME is 'ACM Name'
    - comment on column DC_ACM_EVENT_DRIVE.EVENT_CODE is  'Event Code.Domain:cic.cic_event'
    - comment on column DC_ACM_EVENT_DRIVE.ATTR_CODE_PATH is  'ATTR CODE PATH.Domain:cic.cic_inter_event_attr'
    - comment on column DC_ACM_EVENT_DRIVE.ENRICH_SERVICE_NAME is  'ENRICH SERVICE NAME.Domain:cic.cic_enrich_service'
    - comment on column DC_ACM_EVENT_DRIVE.FIELD_CODE_PATH is  'FIELD CODE PATH.Domain:cic.cic_serv_rtn'
    - comment on column DC_ACM_EVENT_DRIVE.BLOCK_ID is  'BLOCK ID used for sorting'
    - comment on column DC_ACM_EVENT_DRIVE.OPERATOR_NAME is  '1:>=,2:<=,3:<,4:>,5:In,6:Not In,7:=,8:!=,9:Is Empty,15:Is Not Empty,10:Contain,11:Begin with,12:End with'
    - comment on column DC_ACM_EVENT_DRIVE.INPUT_VALUE is  'Judge condition value.If offer keep null'
    - comment on column DC_ACM_EVENT_DRIVE.ACM_ACTION is  'A:累加; C:清理; R:Rollback'
    - comment on column DC_ACM_EVENT_DRIVE.ROLLBACK_EVENT_DRIVE is  'If Rollback action,config'
    - comment on column DC_ACM_EVENT_DRIVE.KEYFIELD_ATTR_NAME is  'WHEN IS_OCCURENCE = N,NEED CONFIG ACCUMULATE OBJECT'
    - comment on column DC_ACM_EVENT_DRIVE.EVENT_ATTR_NAME is  'EVENT ATTR'
    - comment on column DC_ACM_EVENT_DRIVE.Acm_Factor_rum is  'ACCUMULATE measurement'
    - comment on column DC_ACM_EVENT_DRIVE.Acm_Factor_VALUE is  'EVENT ATTR VALUE'

  DC_PROC_ENRICH_SERVICE:
    - |
      create or replace procedure DC_PROC_ENRICH_SERVICE Authid Current_User is
        V_reg_service_id        NUMBER;
        V_enrich_service_id     NUMBER;
        V_action_id             NUMBER;
        V_action_type_id        NUMBER;
        V_rtn_field_id          NUMBER;
        V_rtn_o_field_id        NUMBER;
        V_count                 NUMBER;
        V_DEFAULT_ATTR          NUMBER(3);
        V_parent_rtn_field_id   NUMBER(9);
        V_data_type  char(1);
      begin
        for cur in (select * from DC_CIC_REG_SERVICE) loop
          select count(1)
            into V_count
            from cic.cic_reg_service
           where service_id = cur.service_id;
          if V_count = 0 then
            SELECT COALESCE(max(REG_SERVICE_ID) + 1, 1)
              into V_reg_service_id
              FROM cic.cic_reg_service;
            insert into cic.cic_reg_service
              (REG_SERVICE_ID,
               CALL_METHOD,
               SERVICE_ID,
               SERVICE_GROUP,
               INTERFACE_NAME,
               REGISTRY_GROUP)
            values
              (V_reg_service_id,
               cur.call_method,
               cur.service_id,
               cur.service_group,
               cur.interface_name,
               cur.registry_group);
            if cur.if_action = 'N' then
              select COALESCE(max(ENRICH_SERVICE_ID) + 1, 1)
                into V_enrich_service_id
                from cic.cic_enrich_service;
              insert into cic.cic_enrich_service
                (ENRICH_SERVICE_ID,
                 ENRICH_SERVICE_CODE,
                 REG_SERVICE_ID,
                 ENRICH_SERVICE_NAME,
                 COMMENTS,
                 IS_PRODUCT,
                 STATE,
                 CREATED_DATE,
                 CREATED_BY,
                 UPDATE_DATE,
                 UPDATE_BY)
              values
                (V_enrich_service_id,
                 null,
                 V_reg_service_id,
                 upper(substr(cur.service_id, 1, 1)) || substr(cur.service_id, 2),
                 null,
                 'Y',
                 'P',
                 sysdate,
                 3044336,
                 sysdate,
                 3044336);
            elsif cur.if_action = 'Y' then

              for cur_ac in (select *
                               from dc_cic_action
                              where service_id = cur.service_id) loop
                select COALESCE(max(action_id) + 1, 1)
                  into V_action_id
                  from cic.cic_action;
                select action_type_id
                  into V_action_type_id
                  from cic.cic_action_type
                 where action_type_name = cur_ac.action_type_name;
                insert into cic.cic_action
                  (action_id,
                   action_code,
                   action_type_id,
                   reg_service_id,
                   action_name,
                   comments,
                   contact_channel,
                   is_product,
                   action_process_pic,
                   state,
                   created_date,
                   created_by,
                   update_date,
                   update_by)
                values
                  (V_action_id,
                   null,
                   v_action_type_id,
                   V_reg_service_id,
                   cur_ac.action_name,
                   null,
                   cur_ac.contact_channel,
                   'Y',
                   cur_ac.action_process_pic,
                   'P',
                   sysdate,
                   3044336,
                   sysdate,
                   3044336);
              end loop;
            end if;
            for cur_in in (select *
                             from DC_CIC_INPUT_PARAM
                            where service_id = cur.service_id) loop
              select count(1)
                into V_count
                from cic.cic_input_param
               where reg_service_id = V_reg_service_id
                 and input_param_id = cur_in.input_param_id;
              if V_count = 0 then
                if cur_in.default_attr_name is not null then
                  SELECT default_attr
                    into V_DEFAULT_ATTR
                    FROM cic.cic_default_attr
                   where attr_name = cur_in.default_attr_name;
                end if;
               select data_type into V_data_type from cic.cic_data_type where data_type_name = cur_in.data_type_name;
                insert into cic.cic_input_param
                  (INPUT_PARAM_ID,
                   REG_SERVICE_ID,
                   DATA_TYPE,
                   OBJ_CLASS,
                   PARAM_NAME,
                   PARAM_CODE,
                   NOT_NULL,
                   COMMENTS,
                   PARENT_INPUT_PARAM_ID,
                   DEFAULT_ATTR,
                   DEFAULT_VALUE,
                   IS_DISPLAY,
                   PARAM_SEQ)
                values
                  (cur_in.input_param_id,
                   V_reg_service_id,
                   V_data_type,
                   cur_in.obj_class,
                   cur_in.param_name,
                   cur_in.param_name,
                   cur_in.not_null,
                   null,
                   cur_in.parent_input_param_id,
                   decode(cur_in.default_attr_name, null, '', V_DEFAULT_ATTR),
                   cur_in.default_value,
                   cur_in.is_display,
                   cur_in.param_seq);
              end if;
            end loop;
            /*for cur_in_s in (select *
                               from DC_CIC_INPUT_PARAM
                              where service_id = cur.service_id
                                and parent_input_param_name is not null) loop
              select input_param_id
                into V_parent_input_param_id
                from cic.cic_input_param
               where reg_service_id = V_reg_service_id
                 and param_name = cur_in_s.parent_input_param_name;
              update cic.cic_input_param
                 set parent_input_param_id = V_parent_input_param_id
               where reg_service_id = V_reg_service_id
                 and param_name = cur_in_s.param_name;
            end loop;*/
            for cur_rtn in (select *
                              from DC_CIC_SERV_RTN
                             where service_id = cur.service_id) loop
              select count(1)
                into V_count
                from cic.cic_serv_rtn
               where reg_service_id = V_reg_service_id
                 and FIELD_CODE_PATH = cur_rtn.field_code_path;
              if V_count = 0 then
                select COALESCE(max(RTN_FIELD_ID) + 1, 1)
                  into V_rtn_field_id
                  from cic.cic_serv_rtn;
                select data_type into V_data_type from cic.cic_data_type where data_type_name = cur_rtn.data_type_name;
                insert into cic.cic_serv_rtn
                  (RTN_FIELD_ID,
                   PARENT_RTN_FIELD_ID,
                   FIELD_CODE,
                   FIELD_NAME,
                   FIELD_CODE_PATH,
                   FIELD_NAME_PATH,
                   DATA_TYPE,
                   IS_ARRAY,
                   REG_SERVICE_ID,
                   ATTR_DIM_ID,
                   COMMENTS,
                   IS_DISPLAY)
                values
                  (V_rtn_field_id,
                   null,
                   cur_rtn.field_code,
                   cur_rtn.field_code,
                   cur_rtn.field_code_path,
                   null,
                   V_data_type,
                   cur_rtn.is_array,
                   V_reg_service_id,
                   null,
                   null,
                   cur_rtn.is_display);
              end if;
            end loop;

            for cur_rtn_s in (select *
                                from DC_CIC_SERV_RTN
                               where service_id = cur.service_id
                                 and instr(field_code_path, '.') > 0) loop
              select rtn_field_id
                into V_parent_rtn_field_id
                from cic.cic_serv_rtn
               where reg_service_id = V_reg_service_id
                 and field_code_path = substr(cur_rtn_s.field_code_path,1,instr(cur_rtn_s.field_code_path,'.'||cur_rtn_s.field_code)-1);
              update cic.cic_serv_rtn
                 set parent_rtn_field_id = V_parent_rtn_field_id
               where reg_service_id = V_reg_service_id
                 and field_code_path = cur_rtn_s.field_code_path;
            end loop;
          end if;
        end loop;
      end;

  DC_PROC_ACM_EVENT_DRIVE:
    - |
      create or replace procedure DC_PROC_ACM_EVENT_DRIVE Authid Current_User is
        V_RULE_EXP_ID           NUMBER;
        V_ACM_CONDITION_ID      NUMBER;
        V_ACM_EVENT_DRIVE_ID    NUMBER;
        V_EVENT_ID              NUMBER;
        V_ACM_ID                NUMBER;
        V_FILTER_ID             NUMBER;
        V_LEFT_OPERAND_ID       NUMBER;
        V_RIGHT_OPERAND_ID      NUMBER;
        V_OPERATOR              NUMBER(3);
        V_EVENT_ATTR_ID         NUMBER;
      begin
        for cur in (select distinct acm_name,event_code ,acm_action from DC_ACM_EVENT_DRIVE) loop
          select COALESCE(max(RULE_EXP_ID)+1,1) into V_RULE_EXP_ID from cic.CIC_ACM_RULE_EXP;
          INSERT INTO cic.CIC_ACM_RULE_EXP (RULE_EXP_ID, RULE_EXPRESSION, RULE_EXP_REMARK)values(V_RULE_EXP_ID,'','');
          select COALESCE(max(ACM_CONDITION_ID)+1,1) into V_ACM_CONDITION_ID from cic.CIC_ACM_CONDITION;
          INSERT INTO cic.CIC_ACM_CONDITION (ACM_CONDITION_ID, RULE_EXP_ID)values(V_ACM_CONDITION_ID,V_RULE_EXP_ID);
          select COALESCE(max(ACM_EVENT_DRIVE_ID)+1,1) into V_ACM_EVENT_DRIVE_ID from cic.CIC_ACM_EVENT_DRIVE;
          select event_id into V_EVENT_ID from cic.cic_event where event_code = cur.event_code;
          SELECT ACM_ID into V_ACM_ID FROM cic.cic_acm where acm_name = cur.acm_name;
          INSERT INTO cic.CIC_ACM_EVENT_DRIVE (ACM_EVENT_DRIVE_ID, EVENT_ID, ACM_ID, CONDITION_ID, ACM_ACTION, ROLLBACK_EVENT_DRIVE)
          VALUES(V_ACM_EVENT_DRIVE_ID,V_EVENT_ID,V_ACM_ID,V_ACM_CONDITION_ID,cur.acm_action,1);
         for cur_rule in (select * from DC_ACM_EVENT_DRIVE where acm_name = cur.acm_name and event_code = cur.event_code)loop
          SELECT operator into V_OPERATOR FROM cic.cic_operator where operator_name = cur_rule.operator_name;
          select max(filter_id) + 1 into V_FILTER_ID from cic.CIC_RULE_FILTER;
          INSERT INTO cic.CIC_RULE_FILTER (FILTER_ID, PROCESS_ID, OPERATOR, BLOCK_ID, RULE_EXP_ID)values(V_FILTER_ID,'',V_OPERATOR,cur_rule.block_id,V_RULE_EXP_ID);
          if cur_rule.ATTR_CODE_PATH is not null then
                SELECT EVENT_ATTR_ID
                  into V_EVENT_ATTR_ID
                  FROM cic.cic_inter_event_attr
                 where attr_code_path = cur_rule.ATTR_CODE_PATH
                   and inter_event_id = V_EVENT_ID;
              elsif cur_rule.FIELD_CODE_PATH is not null then
                SELECT rtn_field_id
                  into V_EVENT_ATTR_ID
                  FROM cic.cic_serv_rtn csr, cic.cic_enrich_service ces
                 where csr.reg_service_id = ces.reg_service_id
                   and FIELD_CODE_PATH = cur_rule.FIELD_CODE_PATH
                   and ENRICH_SERVICE_NAME = cur_rule.ENRICH_SERVICE_NAME;
              end if;
            select max(LEFT_OPERAND_ID) + 1  into V_LEFT_OPERAND_ID from cic.CIC_LEFT_OPERAND;
            insert into cic.CIC_LEFT_OPERAND
                (LEFT_OPERAND_ID,
                 FILTER_ID,
                 OPERAND_TYPE,
                 FUN_ID,
                 EVENT_ATTR_ID,
                 ENRICH_SERV_FIELD,
                 MEMBER_ATTR_ID,
                 CAL_EXPRESSION_ID,
                 SPLIT_PARAM_ID,
                 FIX_OUTPUT_ID,
                 ACTION_FIELD_ID,
                 ACM_ID,
                 OBJ_DIM_RTN_FIELD_ID)
              values
                (V_LEFT_OPERAND_ID,
                 V_FILTER_ID,
                 case when cur_rule.ATTR_CODE_PATH is not null then 'EV' when
                 cur_rule.FIELD_CODE_PATH is not null then 'ES' end,
                 null,
                 decode(cur_rule.ATTR_CODE_PATH, null, null, V_EVENT_ATTR_ID),
                 decode(cur_rule.FIELD_CODE_PATH, null, null, V_EVENT_ATTR_ID),
                 null,
                 null,
                 null,
                 null,
                 null,
                 null,
                 null);
            select  max(RIGHT_OPERAND_ID)+1 into V_RIGHT_OPERAND_ID from cic.CIC_RIGHT_OPERAND;
            insert into cic.CIC_RIGHT_OPERAND
                (RIGHT_OPERAND_ID,
                 OPERAND_TYPE,
                 FUN_ID,
                 FILTER_ID,
                 EVENT_ATTR_ID,
                 ENRICH_SERV_FIELD,
                 CAL_EXPRESSION_ID,
                 MEMBER_ATTR_ID,
                 SPLIT_PARAM_ID,
                 FIX_OUTPUT_ID,
                 ACTION_FIELD_ID,
                 INPUT_VALUE,
                 OFFSET,
                 ACM_ID,
                 OBJ_DIM_RTN_FIELD_ID)
              values
                (V_RIGHT_OPERAND_ID,
                 'IV',
                 null,
                 V_FILTER_ID,
                 null,
                 null,
                 null,
                 null,
                 null,
                 null,
                 null,
                 cur_rule.input_value,
                 null,
                 null,
                 null);
          end loop;
        end loop;
      end;

create_list:
  DC_CIC_EVENT:
    - CIC
    - V20200328
    - table
    - VALUE_LIST:
        CATALOG_NAME:
          TYPE: sql
          SOURCE: select CATALOG_NAME from cic.cic_catalog
        EVENT_CNCT_METHOD:
          TYPE: list
          SOURCE: ZMQ,Dubbo
        EXCLUDE_REPETITION:
          TYPE: list
          SOURCE: N,Y
        IS_PRODUCT:
          TYPE: list
          SOURCE: Y,N
        IS_INTERACT_EVENT:
          TYPE: list
          SOURCE: N,Y
        BATCH_FLAG:
          TYPE: list
          SOURCE: N,Y
        BATCH_TASK:
          TYPE: list
          SOURCE: N,Y
        MANUAL_FLAG:
          TYPE: list
          SOURCE: N,Y
        STORAGE_EVENT_PROCESS:
          TYPE: list
          SOURCE: Y,N
        MANUAL_RETRY_FLAG:
          TYPE: list
          SOURCE: N,Y

  DC_CIC_EVENT_ATTR:
    - CIC
    - V20200701
    - table
    - VALUE_LIST:
        DATA_TYPE_NAME:
          TYPE: sql
          SOURCE: select data_type_name from cic.cic_data_type
        IS_ARRAY:
          TYPE: list
          SOURCE: N,Y
        IS_IDENTIFIER:
          TYPE: list
          SOURCE: N,Y
        IS_PRODUCT:
          TYPE: list
          SOURCE: N,Y
        IS_SENSITIVE:
          TYPE: list
          SOURCE: N,Y
        DEFAULT_ATTR_NAME:
          TYPE: sql
          SOURCE: SELECT attr_name FROM  cic.cic_default_attr

  DC_CIC_REG_SERVICE:
    - CIC
    - V20190612
    - table
    - VALUE_LIST:
        CALL_METHOD:
          TYPE: list
          SOURCE: L,D
        IF_ACTION:
          TYPE: list
          SOURCE: Y,N
        REGISTRY_GROUP:
          TYPE: list
          SOURCE: cicRegistry,Default Registry

  DC_CIC_ACTION:
    - CIC
    - V20190612
    - table
    - VALUE_LIST:
        ACTION_TYPE_NAME:
          TYPE: sql
          SOURCE: select action_type_name from cic.cic_action_type
        ACTION_PROCESS_PIC:
          TYPE: list
          SOURCE: icon-order,icon-unsubscribe,icon-unsubscribe,icon-cic-active,icon-account-recharge

  DC_CIC_INPUT_PARAM:
    - CIC
    - V20200623
    - table
    - VALUE_LIST:
        DATA_TYPE_NAME:
          TYPE: sql
          SOURCE: select data_type_name from cic.cic_data_type
        NOT_NULL:
          TYPE: list
          SOURCE: Y,N
        PARAM_SEQ:
            TYPE: list
            SOURCE: 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15
        DEFAULT_ATTR_NAME:
            TYPE: sql
            SOURCE: SELECT attr_name FROM  cic.cic_default_attr

  DC_CIC_SERV_RTN:
    - CIC
    - V20200623
    - table
    - VALUE_LIST:
        DATA_TYPE_NAME:
          TYPE: sql
          SOURCE: select data_type_name from cic.cic_data_type
        IS_ARRAY:
          TYPE: list
          SOURCE: Y,N
        IS_DISPLAY:
          TYPE: list
          SOURCE: Y,N

  DC_CIC_ACM:
    - CIC
    - V20200320
    - table
    - VALUE_LIST:
        AUDIENCE_NAME:
          TYPE: sql
          SOURCE: SELECT AUDIENCE_NAME FROM CIC.CIC_AUDIENCE
        IS_OCCURENCE:
          TYPE: list
          SOURCE: Y,N
        SEG_DURATION_TIMEUNIT:
          TYPE: list
          SOURCE: H, D, M, Y
        VALUE_UNIT:
          TYPE: sql
          SOURCE: SELECT UNIT_NAME VALUE_UNIT FROM CIC.CIC_MEAS_UNIT
        DISPLAY_UNIT:
          TYPE: sql
          SOURCE: SELECT UNIT_NAME DISPLAY_UNIT FROM CIC.CIC_MEAS_UNIT
        ACM_CATALOG_NAME:
          TYPE: sql
          SOURCE: SELECT ACM_CATALOG_NAME FROM CIC.CIC_acm_CATALOG

  DC_ACM_EVENT_DRIVE:
    - CIC
    - V20200323
    - table
    - VALUE_LIST:
        EVENT_CODE:
          TYPE: sql
          SOURCE: SELECT event_code FROM cic.CIC_EVENT where state = 'P' order by event_code
        ENRICH_SERVICE_NAME:
          TYPE: sql
          SOURCE: select enrich_service_name from cic.cic_enrich_service where state = 'P' order by enrich_service_name
        OPERATOR_NAME:
          TYPE: sql
          SOURCE: select operator_name from cic.cic_operator order by operator_name
        BLOCK_ID:
          TYPE: list
          SOURCE: 1,2,3,4,5,6,7,8,9,10
        ACM_ACTION:
          TYPE: list
          SOURCE: A, C, R

  DC_PROC_ENRICH_SERVICE:
    - CIC
    - V20200623
    - procedure

  DC_PROC_ACM_EVENT_DRIVE:
    - CIC
    - V20200323
    - procedure